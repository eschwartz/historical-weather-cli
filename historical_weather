#!/usr/bin/env python3
import csv
import json
from commands.days_of_precip import days_of_precip, help as days_of_precip_help

cli_help = f"""
CLI tool to aggregate climate data from 
NOAA historical weather records.

Weather data is expected as a CSV export from
https://www.ncdc.noaa.gov/cdo-web/search

Usage:
    ./historical_weather <function-name> [options]

Functions:

{days_of_precip_help}

    max-temp-delta [options]

        Determine the greatest single day low to high temperature
        change for the designated city and time period (all time, 
        yearly, monthly).

        Options
            --city              Which city to evaluate
                                eg. bos, jnu, mia

            --year              (Optional)
                                Restrict search to a single year
                                Format: YYYY, eg. 2018
            
            --month             (Optional)
                                Restrict search to a particular month
                                Requires --year
                                Format: integer, 1-12
        
        Output (JSON)
            city                City being evaluated
            date                Date with largest temp delta
            temp_change         Temperature delta
"""

res = days_of_precip()
print(json.dumps(res));